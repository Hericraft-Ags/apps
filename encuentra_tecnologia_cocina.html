<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kitchen Tech Challenge with Kiby</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap');
        
        body {
            font-family: 'Nunito', sans-serif;
            overflow: hidden;
            touch-action: manipulation;
            user-select: none;
            box-sizing: border-box;
            height: 100%;
        }
        
        html {
            height: 100%;
        }
        
        .draggable {
            cursor: grab;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 3px solid transparent;
            position: relative;
            z-index: 1;
            will-change: transform;
        }
        
        .draggable:hover {
            transform: scale(1.08) translateZ(0);
            box-shadow: 0 12px 30px rgba(0,0,0,0.25);
            border-color: #FFD700;
            z-index: 10;
        }
        
        .draggable:active {
            cursor: grabbing;
            transform: scale(1.12) translateZ(0);
            z-index: 20;
        }
        
        .draggable.dragging {
            transform: scale(1.15) translateZ(0);
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
            z-index: 30;
            opacity: 0.9;
        }
        
        .draggable.wiggle {
            animation: wiggle 0.6s ease-in-out;
        }
        
        .draggable.shake {
            animation: shake 0.5s ease-in-out;
        }
        
        @keyframes wiggle {
            0%, 100% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(-4deg) scale(1.05); }
            75% { transform: rotate(4deg) scale(1.05); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-3px); }
            20%, 40%, 60%, 80% { transform: translateX(3px); }
        }
        
        .drop-zone {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 3px dashed transparent;
            border-radius: 15px;
            padding: 10px;
            position: relative;
            will-change: transform;
        }
        
        .drop-zone.highlight {
            border-color: #FFD700;
            background-color: rgba(255, 215, 0, 0.15);
            transform: scale(1.08) translateZ(0);
            box-shadow: 0 0 25px rgba(255, 215, 0, 0.6), inset 0 0 15px rgba(255, 215, 0, 0.2);
            animation: pulseGlow 1.5s ease-in-out infinite;
        }
        
        .drop-zone.correct-hint {
            border-color: #10B981;
            background-color: rgba(16, 185, 129, 0.15);
            animation: correctPulse 1.2s ease-in-out;
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
        }
        
        .drop-zone.wrong-hint {
            border-color: #EF4444;
            background-color: rgba(239, 68, 68, 0.1);
            animation: wrongShake 0.6s ease-in-out;
        }
        
        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.12); }
        }
        
        @keyframes wrongShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 25px rgba(255, 215, 0, 0.6), inset 0 0 15px rgba(255, 215, 0, 0.2); }
            50% { box-shadow: 0 0 35px rgba(255, 215, 0, 0.8), inset 0 0 20px rgba(255, 215, 0, 0.3); }
        }
        
        .star {
            animation: starPulse 2s ease-in-out infinite;
            filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.8));
        }
        
        .star.collected {
            animation: starCollect 0.8s ease-out forwards;
        }
        
        @keyframes starPulse {
            0%, 100% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.15) rotate(5deg); }
        }
        
        @keyframes starCollect {
            0% { transform: scale(1) rotate(0deg); opacity: 1; }
            50% { transform: scale(1.5) rotate(180deg); opacity: 0.8; }
            100% { transform: scale(0.8) rotate(360deg); opacity: 1; }
        }
        
        .kiby-bounce {
            animation: kibyBounce 2.5s ease-in-out infinite;
        }
        
        .kiby-happy {
            animation: kibyHappy 1s ease-in-out;
        }
        
        .kiby-excited {
            animation: kibyExcited 0.6s ease-in-out infinite;
        }
        
        @keyframes kibyBounce {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-12px) scale(1.02); }
        }
        
        @keyframes kibyHappy {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        @keyframes kibyExcited {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-5px) rotate(-2deg); }
            75% { transform: translateY(-5px) rotate(2deg); }
        }
        
        .glow {
            animation: glow 1.5s ease-in-out infinite alternate;
        }
        
        @keyframes glow {
            from { 
                filter: drop-shadow(0 0 3px rgba(255, 255, 255, 0.7)) 
                        drop-shadow(0 0 8px rgba(255, 215, 0, 0.5)); 
            }
            to { 
                filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.9)) 
                        drop-shadow(0 0 15px rgba(255, 215, 0, 0.8)); 
            }
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-in;
        }
        
        .fade-out {
            animation: fadeOut 0.4s ease-out forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(-10px); }
        }
        
        .pop-up {
            animation: popUp 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .slide-in {
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes popUp {
            0% { transform: scale(0.3) rotate(-10deg); opacity: 0; }
            70% { transform: scale(1.05) rotate(2deg); }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }
        
        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .success-particle {
            animation: successParticle 1s ease-out forwards;
        }
        
        @keyframes successParticle {
            0% { transform: scale(0) rotate(0deg); opacity: 1; }
            50% { transform: scale(1.2) rotate(180deg); opacity: 0.8; }
            100% { transform: scale(0.8) rotate(360deg); opacity: 0; }
        }
    </style>
</head>
<body class="bg-orange-50 h-full">
    <!-- Welcome Screen -->
    <div id="welcome-screen" class="h-full flex flex-col items-center justify-center p-6 bg-gradient-to-b from-orange-100 to-yellow-100">
        <div class="text-center max-w-md">
            <h1 class="text-4xl font-bold text-orange-600 mb-4">Kitchen Tech Challenge with Kiby</h1>
            <p class="text-lg text-gray-700 mb-8" id="welcome-instructions">Match the names to the kitchen appliances!</p>
            
            <div class="flex justify-center mb-8">
                <button id="play-button" class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-8 rounded-full text-xl shadow-lg transition-all transform hover:scale-105 glow">
                    üç≥ Play
                </button>
            </div>
            
            <div class="flex justify-center items-center space-x-2 mb-6">
                <span id="language-label" class="text-gray-700">Change Language:</span>
                <button id="english-button" class="bg-blue-400 hover:bg-blue-500 text-white font-bold py-2 px-4 rounded-lg">
                    English
                </button>
                <button id="spanish-button" class="bg-orange-400 hover:bg-orange-500 text-white font-bold py-2 px-4 rounded-lg">
                    Espa√±ol
                </button>
            </div>
            
            <!-- Kiby on welcome screen -->
            <div class="mt-6 kiby-bounce">
                <svg width="100" height="100" viewBox="0 0 100 100" class="mx-auto">
                    <!-- Kiby body -->
                    <circle cx="50" cy="50" r="40" fill="white" stroke="#F59E0B" stroke-width="2"/>
                    <!-- Ears/Antenna -->
                    <path d="M30 25 Q 25 5 40 15" stroke="#F59E0B" stroke-width="3" fill="none"/>
                    <path d="M70 25 Q 75 5 60 15" stroke="#F59E0B" stroke-width="3" fill="none"/>
                    <!-- Eyes -->
                    <circle cx="35" cy="45" r="6" fill="#F59E0B"/>
                    <circle cx="65" cy="45" r="6" fill="#F59E0B"/>
                    <circle cx="37" cy="43" r="2" fill="white"/>
                    <circle cx="67" cy="43" r="2" fill="white"/>
                    <!-- Smile -->
                    <path d="M35 65 Q 50 75 65 65" stroke="#F59E0B" stroke-width="3" fill="none"/>
                    <!-- Orange accents -->
                    <circle cx="50" cy="85" r="5" fill="#F59E0B"/>
                    <circle cx="20" cy="60" r="5" fill="#F59E0B"/>
                    <circle cx="80" cy="60" r="5" fill="#F59E0B"/>
                </svg>
            </div>
        </div>
    </div>

    <!-- Kitchen Game Screen -->
    <div id="game-screen" class="h-full relative hidden">
        <!-- Kitchen background -->
        <div class="absolute inset-0 bg-gradient-to-b from-orange-50 to-amber-50">
            <!-- Kitchen wall with tile pattern -->
            <div class="absolute inset-0 bg-gradient-to-b from-orange-100 to-amber-100">
                <!-- Wall tiles pattern -->
                <svg class="absolute inset-0 w-full h-full opacity-20" viewBox="0 0 800 600" preserveAspectRatio="none">
                    <defs>
                        <pattern id="tiles" x="0" y="0" width="40" height="40" patternUnits="userSpaceOnUse">
                            <rect x="0" y="0" width="40" height="40" fill="none" stroke="#D97706" stroke-width="0.5"/>
                            <rect x="1" y="1" width="38" height="38" fill="#FEF3C7" opacity="0.3"/>
                        </pattern>
                    </defs>
                    <rect width="100%" height="60%" fill="url(#tiles)"/>
                </svg>
            </div>
            
            <!-- Kitchen backsplash -->
            <div class="absolute top-0 left-0 w-full h-2/3">
                <svg class="w-full h-full opacity-30" viewBox="0 0 800 400" preserveAspectRatio="none">
                    <defs>
                        <pattern id="backsplash" x="0" y="0" width="60" height="20" patternUnits="userSpaceOnUse">
                            <rect x="0" y="0" width="60" height="20" fill="none" stroke="#B45309" stroke-width="0.3"/>
                            <rect x="1" y="1" width="58" height="18" fill="#FBBF24" opacity="0.2"/>
                        </pattern>
                    </defs>
                    <rect width="100%" height="100%" fill="url(#backsplash)"/>
                </svg>
            </div>
            
            <!-- Upper cabinets -->
            <div class="absolute top-8 left-1/4 w-1/2 h-20">
                <div class="w-full h-full bg-gradient-to-b from-amber-800 to-amber-900 rounded-b-lg border-2 border-amber-700">
                    <!-- Cabinet doors -->
                    <div class="flex h-full">
                        <div class="flex-1 border-r border-amber-700 relative">
                            <div class="absolute top-1/2 right-2 w-1 h-4 bg-amber-600 rounded-full"></div>
                            <div class="absolute top-2 left-2 right-2 h-1 bg-amber-700 rounded"></div>
                        </div>
                        <div class="flex-1 border-r border-amber-700 relative">
                            <div class="absolute top-1/2 right-2 w-1 h-4 bg-amber-600 rounded-full"></div>
                            <div class="absolute top-2 left-2 right-2 h-1 bg-amber-700 rounded"></div>
                        </div>
                        <div class="flex-1 relative">
                            <div class="absolute top-1/2 right-2 w-1 h-4 bg-amber-600 rounded-full"></div>
                            <div class="absolute top-2 left-2 right-2 h-1 bg-amber-700 rounded"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Window with realistic frame -->
            <div class="absolute top-8 right-8 w-32 h-24 bg-white rounded-lg border-4 border-gray-300 shadow-lg">
                <!-- Window frame -->
                <div class="w-full h-full bg-gradient-to-b from-sky-200 to-sky-100 rounded relative overflow-hidden">
                    <!-- Window cross bars -->
                    <div class="absolute top-1/2 left-0 right-0 h-1 bg-white transform -translate-y-1/2"></div>
                    <div class="absolute left-1/2 top-0 bottom-0 w-1 bg-white transform -translate-x-1/2"></div>
                    
                    <!-- Sky and clouds -->
                    <div class="absolute top-2 right-2 w-6 h-6">
                        <svg viewBox="0 0 24 24" fill="none">
                            <circle cx="12" cy="12" r="8" fill="#FCD34D"/>
                            <path d="M12 4V2M12 22v-2M20 12h2M4 12H2M17.66 6.34l1.41-1.41M4.93 19.07l1.41-1.41M17.66 17.66l1.41 1.41M4.93 4.93l1.41 1.41" stroke="#FCD34D" stroke-width="2"/>
                        </svg>
                    </div>
                    
                    <!-- Clouds -->
                    <div class="absolute top-1 left-2 w-8 h-3 bg-white rounded-full opacity-80"></div>
                    <div class="absolute top-3 right-4 w-6 h-2 bg-white rounded-full opacity-60"></div>
                </div>
            </div>
            
            <!-- Kitchen floor -->
            <div class="absolute bottom-0 left-0 w-full h-32">
                <svg class="w-full h-full" viewBox="0 0 800 128" preserveAspectRatio="none">
                    <defs>
                        <pattern id="floorTiles" x="0" y="0" width="80" height="80" patternUnits="userSpaceOnUse">
                            <rect x="0" y="0" width="80" height="80" fill="#F3F4F6" stroke="#D1D5DB" stroke-width="1"/>
                            <rect x="2" y="2" width="76" height="76" fill="#F9FAFB"/>
                            <!-- Tile texture -->
                            <circle cx="40" cy="40" r="2" fill="#E5E7EB" opacity="0.5"/>
                        </pattern>
                    </defs>
                    <rect width="100%" height="100%" fill="url(#floorTiles)"/>
                </svg>
            </div>
            
            <!-- Kitchen counter with realistic details -->
            <div class="absolute bottom-24 left-1/2 transform -translate-x-1/2 w-3/4 h-1/3">
                <!-- Counter top with marble pattern -->
                <div class="absolute bottom-0 w-full h-16 bg-gradient-to-r from-gray-100 via-white to-gray-100 rounded-t-lg border-2 border-gray-200 shadow-lg">
                    <!-- Marble veining -->
                    <svg class="absolute inset-0 w-full h-full opacity-30" viewBox="0 0 400 64" preserveAspectRatio="none">
                        <path d="M0,20 Q100,10 200,25 T400,20" stroke="#D1D5DB" stroke-width="1" fill="none"/>
                        <path d="M0,35 Q150,30 300,40 T400,35" stroke="#D1D5DB" stroke-width="0.8" fill="none"/>
                        <path d="M50,15 Q200,5 350,18" stroke="#E5E7EB" stroke-width="0.6" fill="none"/>
                    </svg>
                    <!-- Counter edge -->
                    <div class="absolute bottom-0 left-0 right-0 h-2 bg-gradient-to-r from-gray-200 to-gray-300 rounded-b-lg"></div>
                </div>
                
                <!-- Cabinet base with realistic wood grain -->
                <div class="absolute bottom-0 left-0 right-0 h-40 bg-gradient-to-b from-amber-700 to-amber-800 rounded-t-lg">
                    <!-- Wood grain pattern -->
                    <svg class="absolute inset-0 w-full h-full opacity-20" viewBox="0 0 400 160" preserveAspectRatio="none">
                        <defs>
                            <pattern id="woodGrain" x="0" y="0" width="20" height="160" patternUnits="userSpaceOnUse">
                                <path d="M10,0 Q15,40 10,80 Q5,120 10,160" stroke="#92400E" stroke-width="0.5" fill="none"/>
                                <path d="M5,0 Q8,50 5,100 Q2,150 5,160" stroke="#92400E" stroke-width="0.3" fill="none"/>
                            </pattern>
                        </defs>
                        <rect width="100%" height="100%" fill="url(#woodGrain)"/>
                    </svg>
                </div>
                
                <!-- Cabinet doors with realistic details -->
                <div class="absolute bottom-0 left-8 w-20 h-40 bg-gradient-to-b from-amber-600 to-amber-700 border-2 border-amber-800 rounded-t-lg shadow-inner">
                    <!-- Door panel -->
                    <div class="absolute top-4 left-2 right-2 bottom-4 border border-amber-800 rounded bg-gradient-to-b from-amber-500 to-amber-600"></div>
                    <!-- Handle -->
                    <div class="absolute top-1/2 right-1 w-1 h-6 bg-amber-900 rounded-full shadow-md transform -translate-y-1/2"></div>
                    <div class="absolute top-1/2 right-0.5 w-0.5 h-4 bg-yellow-600 rounded-full transform -translate-y-1/2"></div>
                </div>
                
                <div class="absolute bottom-0 right-8 w-20 h-40 bg-gradient-to-b from-amber-600 to-amber-700 border-2 border-amber-800 rounded-t-lg shadow-inner">
                    <!-- Door panel -->
                    <div class="absolute top-4 left-2 right-2 bottom-4 border border-amber-800 rounded bg-gradient-to-b from-amber-500 to-amber-600"></div>
                    <!-- Handle -->
                    <div class="absolute top-1/2 left-1 w-1 h-6 bg-amber-900 rounded-full shadow-md transform -translate-y-1/2"></div>
                    <div class="absolute top-1/2 left-0.5 w-0.5 h-4 bg-yellow-600 rounded-full transform -translate-y-1/2"></div>
                </div>
                
                <div class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-32 h-40 bg-gradient-to-b from-amber-600 to-amber-700 border-2 border-amber-800 rounded-t-lg shadow-inner">
                    <!-- Double door -->
                    <div class="flex h-full">
                        <div class="flex-1 border-r border-amber-800 relative">
                            <div class="absolute top-4 left-1 right-0.5 bottom-4 border border-amber-800 rounded-l bg-gradient-to-b from-amber-500 to-amber-600"></div>
                            <div class="absolute top-1/2 right-0.5 w-1 h-6 bg-amber-900 rounded-full shadow-md transform -translate-y-1/2"></div>
                        </div>
                        <div class="flex-1 relative">
                            <div class="absolute top-4 left-0.5 right-1 bottom-4 border border-amber-800 rounded-r bg-gradient-to-b from-amber-500 to-amber-600"></div>
                            <div class="absolute top-1/2 left-0.5 w-1 h-6 bg-amber-900 rounded-full shadow-md transform -translate-y-1/2"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Toe kick -->
                <div class="absolute bottom-0 left-0 right-0 h-4 bg-amber-900 rounded-b-lg shadow-inner"></div>
            </div>
            
            <!-- Kitchen lighting -->
            <div class="absolute top-32 left-1/2 transform -translate-x-1/2 w-16 h-8">
                <!-- Under cabinet lighting -->
                <div class="w-full h-2 bg-gradient-to-r from-transparent via-yellow-200 to-transparent opacity-60 rounded-full"></div>
                <div class="w-full h-1 bg-gradient-to-r from-transparent via-yellow-300 to-transparent opacity-40 rounded-full mt-1"></div>
            </div>
            
            <!-- Kitchen accessories -->
            <!-- Fruit bowl on counter -->
            <div class="absolute bottom-40 left-1/4 w-12 h-6">
                <svg viewBox="0 0 48 24" class="w-full h-full">
                    <!-- Bowl -->
                    <ellipse cx="24" cy="20" rx="20" ry="4" fill="#8B4513"/>
                    <ellipse cx="24" cy="18" rx="18" ry="3" fill="#A0522D"/>
                    <!-- Fruits -->
                    <circle cx="18" cy="16" r="3" fill="#FF6B35"/>
                    <circle cx="24" cy="15" r="3" fill="#FFD23F"/>
                    <circle cx="30" cy="16" r="3" fill="#FF6B35"/>
                </svg>
            </div>
            
            <!-- Coffee maker -->
            <div class="absolute bottom-40 right-1/4 w-10 h-12">
                <svg viewBox="0 0 40 48" class="w-full h-full">
                    <!-- Coffee maker base -->
                    <rect x="8" y="32" width="24" height="16" rx="2" fill="#2D3748"/>
                    <!-- Coffee pot -->
                    <path d="M10 32 L10 20 Q10 16 14 16 L26 16 Q30 16 30 20 L30 32" fill="#4A5568" stroke="#2D3748" stroke-width="1"/>
                    <!-- Handle -->
                    <path d="M30 24 Q36 24 36 30 Q36 36 32 36" stroke="#2D3748" stroke-width="2" fill="none"/>
                    <!-- Coffee -->
                    <path d="M12 30 L12 22 Q12 20 14 20 L26 20 Q28 20 28 22 L28 30" fill="#8B4513"/>
                </svg>
            </div>
        </div>
        
        <!-- Kitchen appliances on counter -->
        <div class="absolute bottom-40 left-1/2 transform -translate-x-1/2 w-3/4 flex justify-around items-end">
            <!-- Refrigerator -->
            <div class="drop-zone relative" data-item="refrigerator">
                <svg width="90" height="100" viewBox="0 0 90 100">
                    <defs>
                        <linearGradient id="fridgeGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#F8FAFC;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#E2E8F0;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="fridgeInterior" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#FEFEFE;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#F1F5F9;stop-opacity:1" />
                        </linearGradient>
                        <radialGradient id="fridgeLight" cx="50%" cy="20%" r="40%">
                            <stop offset="0%" style="stop-color:#FBBF24;stop-opacity:0.3" />
                            <stop offset="100%" style="stop-color:#FBBF24;stop-opacity:0" />
                        </radialGradient>
                    </defs>
                    <!-- Shadow -->
                    <ellipse cx="45" cy="95" rx="38" ry="5" fill="#000000" opacity="0.15"/>
                    <!-- Main body -->
                    <rect x="12" y="5" width="66" height="85" rx="8" fill="url(#fridgeGradient)" stroke="#CBD5E1" stroke-width="2"/>
                    <!-- Body highlights -->
                    <rect x="14" y="7" width="62" height="20" rx="6" fill="#FFFFFF" opacity="0.4"/>
                    
                    <!-- Freezer section -->
                    <rect x="16" y="10" width="58" height="28" rx="4" fill="url(#fridgeInterior)" stroke="#CBD5E1" stroke-width="1"/>
                    <!-- Freezer interior light -->
                    <rect x="18" y="12" width="54" height="24" rx="3" fill="url(#fridgeLight)"/>
                    
                    <!-- Main fridge section -->
                    <rect x="16" y="42" width="58" height="45" rx="4" fill="url(#fridgeInterior)" stroke="#CBD5E1" stroke-width="1"/>
                    <!-- Main interior light -->
                    <rect x="18" y="44" width="54" height="41" rx="3" fill="url(#fridgeLight)"/>
                    
                    <!-- Door handles -->
                    <rect x="68" y="18" width="5" height="12" rx="2.5" fill="#94A3B8" stroke="#64748B" stroke-width="1"/>
                    <rect x="68" y="58" width="5" height="18" rx="2.5" fill="#94A3B8" stroke="#64748B" stroke-width="1"/>
                    <!-- Handle details -->
                    <rect x="69" y="20" width="3" height="8" rx="1.5" fill="#E2E8F0"/>
                    <rect x="69" y="62" width="3" height="14" rx="1.5" fill="#E2E8F0"/>
                    
                    <!-- Brand logo -->
                    <rect x="25" y="13" width="25" height="4" rx="2" fill="#64748B" opacity="0.6"/>
                    <text x="37.5" y="16" text-anchor="middle" fill="#FFFFFF" font-size="3" font-weight="bold">COOLTECH</text>
                    
                    <!-- Digital temperature display -->
                    <rect x="48" y="15" width="18" height="8" rx="2" fill="#1E293B"/>
                    <rect x="49" y="16" width="16" height="6" rx="1" fill="#0F172A"/>
                    <text x="57" y="20" text-anchor="middle" fill="#22C55E" font-size="4" font-family="monospace">-2¬∞C</text>
                    
                    <!-- Freezer shelves and compartments -->
                    <line x1="18" y1="25" x2="72" y2="25" stroke="#CBD5E1" stroke-width="1"/>
                    <line x1="18" y1="32" x2="72" y2="32" stroke="#CBD5E1" stroke-width="1"/>
                    
                    <!-- Main fridge shelves -->
                    <line x1="18" y1="55" x2="72" y2="55" stroke="#CBD5E1" stroke-width="1"/>
                    <line x1="18" y1="68" x2="72" y2="68" stroke="#CBD5E1" stroke-width="1"/>
                    <line x1="18" y1="78" x2="72" y2="78" stroke="#CBD5E1" stroke-width="1"/>
                    
                    <!-- Door compartments -->
                    <rect x="20" y="47" width="8" height="15" rx="2" fill="#F1F5F9" stroke="#CBD5E1" stroke-width="0.5"/>
                    <rect x="30" y="47" width="8" height="15" rx="2" fill="#F1F5F9" stroke="#CBD5E1" stroke-width="0.5"/>
                    <rect x="20" y="65" width="18" height="8" rx="2" fill="#F1F5F9" stroke="#CBD5E1" stroke-width="0.5"/>
                    
                    <!-- Ice and water dispensers -->
                    <rect x="28" y="28" width="10" height="8" rx="2" fill="#475569"/>
                    <circle cx="33" cy="32" r="2" fill="#64748B"/>
                    <text x="33" y="34" text-anchor="middle" fill="#E2E8F0" font-size="2">ICE</text>
                    
                    <rect x="42" y="28" width="10" height="8" rx="2" fill="#475569"/>
                    <rect x="44" y="30" width="6" height="4" rx="1" fill="#3B82F6" opacity="0.4"/>
                    <text x="47" y="34" text-anchor="middle" fill="#E2E8F0" font-size="2">H2O</text>
                    
                    <!-- LED interior lights -->
                    <circle cx="22" cy="15" r="1" fill="#FBBF24"/>
                    <circle cx="68" cy="15" r="1" fill="#FBBF24"/>
                    <circle cx="22" cy="47" r="1" fill="#FBBF24"/>
                    <circle cx="68" cy="47" r="1" fill="#FBBF24"/>
                    
                    <!-- Energy efficiency sticker -->
                    <rect x="55" y="25" width="12" height="8" rx="1" fill="#22C55E"/>
                    <text x="61" y="28" text-anchor="middle" fill="#FFFFFF" font-size="2" font-weight="bold">A+++</text>
                    <text x="61" y="31" text-anchor="middle" fill="#FFFFFF" font-size="1.5">ENERGY</text>
                    
                    <!-- Magnetic strips (for magnets) -->
                    <rect x="14" y="20" width="2" height="60" rx="1" fill="#64748B" opacity="0.3"/>
                    <rect x="74" y="20" width="2" height="60" rx="1" fill="#64748B" opacity="0.3"/>
                    
                    <!-- Ventilation grille -->
                    <rect x="20" y="87" width="50" height="2" rx="1" fill="#64748B"/>
                    <line x1="22" y1="88" x2="68" y2="88" stroke="#94A3B8" stroke-width="0.5"/>
                    
                    <!-- Compressor indicator -->
                    <circle cx="75" cy="85" r="2" fill="#EF4444"/>
                    <circle cx="75" cy="85" r="1" fill="#FECACA"/>
                </svg>
                <div class="star hidden absolute -top-4 -right-4">
                    <svg width="30" height="30" viewBox="0 0 30 30">
                        <polygon points="15,0 18.5,10.5 30,10.5 20.5,17 24,28 15,21.5 6,28 9.5,17 0,10.5 11.5,10.5" fill="gold" stroke="#FFA000"/>
                    </svg>
                </div>
            </div>
            
            <!-- Blender -->
            <div class="drop-zone relative" data-item="blender">
                <svg width="80" height="90" viewBox="0 0 80 90">
                    <defs>
                        <linearGradient id="blenderBaseGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#374151;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#1F2937;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="blenderJarGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#F8FAFC;stop-opacity:0.95" />
                            <stop offset="100%" style="stop-color:#E2E8F0;stop-opacity:0.8" />
                        </linearGradient>
                        <radialGradient id="liquidGradient" cx="50%" cy="60%" r="45%">
                            <stop offset="0%" style="stop-color:#F59E0B;stop-opacity:0.9" />
                            <stop offset="50%" style="stop-color:#D97706;stop-opacity:0.7" />
                            <stop offset="100%" style="stop-color:#B45309;stop-opacity:0.5" />
                        </radialGradient>
                        <linearGradient id="baseReflection" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:0.3" />
                            <stop offset="100%" style="stop-color:#FFFFFF;stop-opacity:0" />
                        </linearGradient>
                    </defs>
                    <!-- Shadow -->
                    <ellipse cx="40" cy="85" rx="28" ry="4" fill="#000000" opacity="0.25"/>
                    
                    <!-- Base -->
                    <rect x="18" y="58" width="44" height="22" rx="10" fill="url(#blenderBaseGradient)" stroke="#4B5563" stroke-width="1.5"/>
                    <!-- Base reflection -->
                    <rect x="20" y="60" width="40" height="8" rx="8" fill="url(#baseReflection)"/>
                    
                    <!-- Base ventilation -->
                    <rect x="22" y="75" width="36" height="2" rx="1" fill="#6B7280"/>
                    <line x1="24" y1="76" x2="54" y2="76" stroke="#9CA3AF" stroke-width="0.5"/>
                    
                    <!-- Control panel -->
                    <rect x="22" y="65" width="36" height="8" rx="2" fill="#1F2937" stroke="#374151" stroke-width="1"/>
                    
                    <!-- Control buttons -->
                    <circle cx="28" cy="69" r="2.5" fill="#DC2626" stroke="#B91C1C" stroke-width="1"/>
                    <circle cx="28" cy="69" r="1.5" fill="#EF4444"/>
                    <text x="28" y="71" text-anchor="middle" fill="#FFFFFF" font-size="1.5" font-weight="bold">P</text>
                    
                    <circle cx="40" cy="69" r="2.5" fill="#059669" stroke="#047857" stroke-width="1"/>
                    <circle cx="40" cy="69" r="1.5" fill="#10B981"/>
                    <text x="40" y="71" text-anchor="middle" fill="#FFFFFF" font-size="1.5" font-weight="bold">S</text>
                    
                    <circle cx="52" cy="69" r="2.5" fill="#2563EB" stroke="#1D4ED8" stroke-width="1"/>
                    <circle cx="52" cy="69" r="1.5" fill="#3B82F6"/>
                    <text x="52" y="71" text-anchor="middle" fill="#FFFFFF" font-size="1.5" font-weight="bold">H</text>
                    
                    <!-- Speed dial -->
                    <circle cx="55" cy="62" r="5" fill="#6B7280" stroke="#4B5563" stroke-width="1"/>
                    <circle cx="55" cy="62" r="3.5" fill="#9CA3AF"/>
                    <line x1="55" y1="59" x2="55" y2="62" stroke="#1F2937" stroke-width="2"/>
                    <circle cx="55" cy="62" r="1" fill="#1F2937"/>
                    
                    <!-- Brand logo -->
                    <rect x="28" y="61" width="24" height="2.5" rx="1" fill="#9CA3AF"/>
                    <text x="40" y="63" text-anchor="middle" fill="#1F2937" font-size="2" font-weight="bold">BLENDMAX</text>
                    
                    <!-- Jar -->
                    <path d="M23 58 L23 22 Q 23 12 33 12 L47 12 Q 57 12 57 22 L57 58 Z" fill="url(#blenderJarGradient)" stroke="#CBD5E1" stroke-width="2"/>
                    
                    <!-- Liquid inside with motion effect -->
                    <path d="M25 56 L25 32 Q 25 27 30 27 L50 27 Q 55 27 55 32 L55 56 Z" fill="url(#liquidGradient)"/>
                    <!-- Liquid surface with slight wave -->
                    <path d="M25 32 Q 30 30 35 32 Q 40 34 45 32 Q 50 30 55 32" stroke="#F59E0B" stroke-width="1.5" fill="none" opacity="0.8"/>
                    
                    <!-- Jar handle -->
                    <path d="M57 38 Q 67 38 67 48 Q 67 53 62 53" stroke="#CBD5E1" stroke-width="3" fill="none"/>
                    <path d="M57 40 Q 65 40 65 48 Q 65 51 62 51" stroke="#E2E8F0" stroke-width="1.5" fill="none"/>
                    
                    <!-- Lid -->
                    <ellipse cx="40" cy="12" rx="17" ry="4" fill="#E2E8F0" stroke="#CBD5E1" stroke-width="1"/>
                    <ellipse cx="40" cy="11" rx="17" ry="3" fill="#F1F5F9" stroke="#CBD5E1" stroke-width="1"/>
                    
                    <!-- Lid center cap (removable) -->
                    <circle cx="40" cy="11" r="4" fill="#94A3B8" stroke="#64748B" stroke-width="1"/>
                    <circle cx="40" cy="11" r="2.5" fill="#CBD5E1"/>
                    <circle cx="40" cy="11" r="1" fill="#64748B"/>
                    
                    <!-- Measurement marks -->
                    <g opacity="0.7">
                        <line x1="26" y1="45" x2="28" y2="45" stroke="#CBD5E1" stroke-width="1"/>
                        <text x="30" y="46" fill="#64748B" font-size="2">1L</text>
                        <line x1="26" y1="35" x2="28" y2="35" stroke="#CBD5E1" stroke-width="1"/>
                        <text x="30" y="36" fill="#64748B" font-size="2">2L</text>
                        <line x1="26" y1="25" x2="28" y2="25" stroke="#CBD5E1" stroke-width="1"/>
                        <text x="30" y="26" fill="#64748B" font-size="2">3L</text>
                    </g>
                    
                    <!-- Blades assembly (visible through glass) -->
                    <g opacity="0.8">
                        <circle cx="40" cy="56" r="3" fill="#374151" stroke="#1F2937" stroke-width="1"/>
                        <line x1="33" y1="56" x2="47" y2="56" stroke="#64748B" stroke-width="2"/>
                        <line x1="40" y1="49" x2="40" y2="63" stroke="#64748B" stroke-width="2"/>
                        <!-- Blade details -->
                        <path d="M33 56 L37 54 L37 58 Z" fill="#64748B"/>
                        <path d="M47 56 L43 54 L43 58 Z" fill="#64748B"/>
                        <path d="M40 49 L38 53 L42 53 Z" fill="#64748B"/>
                        <path d="M40 63 L38 59 L42 59 Z" fill="#64748B"/>
                    </g>
                    
                    <!-- Jar reflection and highlights -->
                    <path d="M25 22 Q 25 17 30 17 L35 17 Q 30 22 30 32 L30 48" stroke="#FFFFFF" stroke-width="2" fill="none" opacity="0.5"/>
                    <ellipse cx="32" cy="25" rx="3" ry="8" fill="#FFFFFF" opacity="0.2"/>
                    
                    <!-- Power cord -->
                    <path d="M18 70 Q 10 72 8 75" stroke="#1F2937" stroke-width="3" fill="none"/>
                    <circle cx="8" cy="75" r="1.5" fill="#1F2937"/>
                </svg>
                <div class="star hidden absolute -top-4 -right-4">
                    <svg width="30" height="30" viewBox="0 0 30 30">
                        <polygon points="15,0 18.5,10.5 30,10.5 20.5,17 24,28 15,21.5 6,28 9.5,17 0,10.5 11.5,10.5" fill="gold" stroke="#FFA000"/>
                    </svg>
                </div>
            </div>
            
            <!-- Microwave -->
            <div class="drop-zone relative" data-item="microwave">
                <svg width="85" height="80" viewBox="0 0 85 80">
                    <defs>
                        <linearGradient id="microwaveGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#F8FAFC;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#E2E8F0;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="microwaveScreenGradient2" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#1F2937;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#111827;stop-opacity:1" />
                        </linearGradient>
                        <radialGradient id="microwaveInterior" cx="50%" cy="50%" r="50%">
                            <stop offset="0%" style="stop-color:#FEF3C7;stop-opacity:0.8" />
                            <stop offset="100%" style="stop-color:#F59E0B;stop-opacity:0.3" />
                        </radialGradient>
                        <linearGradient id="microwaveReflection" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:0.4" />
                            <stop offset="100%" style="stop-color:#FFFFFF;stop-opacity:0" />
                        </linearGradient>
                        <radialGradient id="displayGlow" cx="50%" cy="50%" r="50%">
                            <stop offset="0%" style="stop-color:#10B981;stop-opacity:0.3" />
                            <stop offset="100%" style="stop-color:#10B981;stop-opacity:0" />
                        </radialGradient>
                    </defs>
                    <!-- Shadow -->
                    <ellipse cx="42" cy="75" rx="38" ry="4" fill="#000000" opacity="0.25"/>
                    
                    <!-- Main body -->
                    <rect x="8" y="15" width="70" height="55" rx="6" fill="url(#microwaveGradient)" stroke="#CBD5E1" stroke-width="2"/>
                    <!-- Body reflection -->
                    <rect x="10" y="17" width="66" height="20" rx="4" fill="url(#microwaveReflection)"/>
                    
                    <!-- Door frame -->
                    <rect x="12" y="20" width="45" height="42" rx="4" fill="#E2E8F0" stroke="#CBD5E1" stroke-width="1.5"/>
                    
                    <!-- Door window -->
                    <rect x="16" y="24" width="37" height="30" rx="3" fill="url(#microwaveScreenGradient2)" stroke="#374151" stroke-width="1.5"/>
                    
                    <!-- Safety mesh pattern on window -->
                    <g opacity="0.4">
                        <!-- Horizontal lines -->
                        <line x1="18" y1="26" x2="51" y2="26" stroke="#64748B" stroke-width="0.8"/>
                        <line x1="18" y1="29" x2="51" y2="29" stroke="#64748B" stroke-width="0.8"/>
                        <line x1="18" y1="32" x2="51" y2="32" stroke="#64748B" stroke-width="0.8"/>
                        <line x1="18" y1="35" x2="51" y2="35" stroke="#64748B" stroke-width="0.8"/>
                        <line x1="18" y1="38" x2="51" y2="38" stroke="#64748B" stroke-width="0.8"/>
                        <line x1="18" y1="41" x2="51" y2="41" stroke="#64748B" stroke-width="0.8"/>
                        <line x1="18" y1="44" x2="51" y2="44" stroke="#64748B" stroke-width="0.8"/>
                        <line x1="18" y1="47" x2="51" y2="47" stroke="#64748B" stroke-width="0.8"/>
                        <line x1="18" y1="50" x2="51" y2="50" stroke="#64748B" stroke-width="0.8"/>
                        <!-- Vertical lines -->
                        <line x1="20" y1="24" x2="20" y2="52" stroke="#64748B" stroke-width="0.8"/>
                        <line x1="24" y1="24" x2="24" y2="52" stroke="#64748B" stroke-width="0.8"/>
                        <line x1="28" y1="24" x2="28" y2="52" stroke="#64748B" stroke-width="0.8"/>
                        <line x1="32" y1="24" x2="32" y2="52" stroke="#64748B" stroke-width="0.8"/>
                        <line x1="36" y1="24" x2="36" y2="52" stroke="#64748B" stroke-width="0.8"/>
                        <line x1="40" y1="24" x2="40" y2="52" stroke="#64748B" stroke-width="0.8"/>
                        <line x1="44" y1="24" x2="44" y2="52" stroke="#64748B" stroke-width="0.8"/>
                        <line x1="48" y1="24" x2="48" y2="52" stroke="#64748B" stroke-width="0.8"/>
                    </g>
                    
                    <!-- Interior light and food -->
                    <rect x="18" y="26" width="33" height="26" rx="2" fill="url(#microwaveInterior)"/>
                    <!-- Plate inside -->
                    <circle cx="34.5" cy="39" r="10" fill="#F1F5F9" stroke="#CBD5E1" stroke-width="1" opacity="0.8"/>
                    <circle cx="34.5" cy="39" r="8" fill="#FFFFFF" opacity="0.6"/>
                    <!-- Food on plate -->
                    <circle cx="32" cy="37" r="2" fill="#F59E0B" opacity="0.7"/>
                    <circle cx="37" cy="38" r="1.5" fill="#DC2626" opacity="0.7"/>
                    <circle cx="34" cy="41" r="1.8" fill="#10B981" opacity="0.7"/>
                    
                    <!-- Turntable ring -->
                    <circle cx="34.5" cy="49" r="12" fill="none" stroke="#CBD5E1" stroke-width="1" opacity="0.5"/>
                    
                    <!-- Door handle -->
                    <rect x="52" y="35" width="4" height="18" rx="2" fill="#94A3B8" stroke="#64748B" stroke-width="1"/>
                    <rect x="53" y="37" width="2" height="14" rx="1" fill="#CBD5E1"/>
                    <!-- Handle grip texture -->
                    <line x1="53.5" y1="39" x2="53.5" y2="49" stroke="#64748B" stroke-width="0.5"/>
                    
                    <!-- Control panel -->
                    <rect x="60" y="20" width="16" height="45" rx="3" fill="#E2E8F0" stroke="#CBD5E1" stroke-width="1.5"/>
                    <rect x="61" y="21" width="14" height="43" rx="2" fill="#F1F5F9"/>
                    
                    <!-- Digital display -->
                    <rect x="62" y="24" width="12" height="7" rx="2" fill="#1F2937" stroke="#374151" stroke-width="1"/>
                    <rect x="63" y="25" width="10" height="5" rx="1" fill="#0F172A"/>
                    <!-- Display glow -->
                    <rect x="63" y="25" width="10" height="5" rx="1" fill="url(#displayGlow)"/>
                    <text x="68" y="28.5" text-anchor="middle" fill="#10B981" font-size="3.5" font-family="monospace" font-weight="bold">2:30</text>
                    
                    <!-- Power level display -->
                    <rect x="62" y="33" width="12" height="3" rx="1" fill="#374151"/>
                    <text x="68" y="35.5" text-anchor="middle" fill="#F59E0B" font-size="2" font-family="monospace">HIGH</text>
                    
                    <!-- Number pad -->
                    <g>
                        <!-- Row 1 -->
                        <rect x="63" y="38" width="3" height="3" rx="0.5" fill="#FFFFFF" stroke="#CBD5E1" stroke-width="0.5"/>
                        <text x="64.5" y="40.2" text-anchor="middle" fill="#374151" font-size="2" font-weight="bold">1</text>
                        <rect x="67" y="38" width="3" height="3" rx="0.5" fill="#FFFFFF" stroke="#CBD5E1" stroke-width="0.5"/>
                        <text x="68.5" y="40.2" text-anchor="middle" fill="#374151" font-size="2" font-weight="bold">2</text>
                        <rect x="71" y="38" width="3" height="3" rx="0.5" fill="#FFFFFF" stroke="#CBD5E1" stroke-width="0.5"/>
                        <text x="72.5" y="40.2" text-anchor="middle" fill="#374151" font-size="2" font-weight="bold">3</text>
                        
                        <!-- Row 2 -->
                        <rect x="63" y="42" width="3" height="3" rx="0.5" fill="#FFFFFF" stroke="#CBD5E1" stroke-width="0.5"/>
                        <text x="64.5" y="44.2" text-anchor="middle" fill="#374151" font-size="2" font-weight="bold">4</text>
                        <rect x="67" y="42" width="3" height="3" rx="0.5" fill="#FFFFFF" stroke="#CBD5E1" stroke-width="0.5"/>
                        <text x="68.5" y="44.2" text-anchor="middle" fill="#374151" font-size="2" font-weight="bold">5</text>
                        <rect x="71" y="42" width="3" height="3" rx="0.5" fill="#FFFFFF" stroke="#CBD5E1" stroke-width="0.5"/>
                        <text x="72.5" y="44.2" text-anchor="middle" fill="#374151" font-size="2" font-weight="bold">6</text>
                        
                        <!-- Row 3 -->
                        <rect x="63" y="46" width="3" height="3" rx="0.5" fill="#FFFFFF" stroke="#CBD5E1" stroke-width="0.5"/>
                        <text x="64.5" y="48.2" text-anchor="middle" fill="#374151" font-size="2" font-weight="bold">7</text>
                        <rect x="67" y="46" width="3" height="3" rx="0.5" fill="#FFFFFF" stroke="#CBD5E1" stroke-width="0.5"/>
                        <text x="68.5" y="48.2" text-anchor="middle" fill="#374151" font-size="2" font-weight="bold">8</text>
                        <rect x="71" y="46" width="3" height="3" rx="0.5" fill="#FFFFFF" stroke="#CBD5E1" stroke-width="0.5"/>
                        <text x="72.5" y="48.2" text-anchor="middle" fill="#374151" font-size="2" font-weight="bold">9</text>
                        
                        <!-- Row 4 -->
                        <rect x="63" y="50" width="3" height="3" rx="0.5" fill="#FFFFFF" stroke="#CBD5E1" stroke-width="0.5"/>
                        <text x="64.5" y="52.2" text-anchor="middle" fill="#374151" font-size="2" font-weight="bold">0</text>
                        <rect x="67" y="50" width="7" height="3" rx="0.5" fill="#10B981" stroke="#059669" stroke-width="0.5"/>
                        <text x="70.5" y="52.2" text-anchor="middle" fill="#FFFFFF" font-size="1.8" font-weight="bold">START</text>
                    </g>
                    
                    <!-- Quick cook buttons -->
                    <rect x="62" y="55" width="5" height="2.5" rx="0.5" fill="#3B82F6" stroke="#1D4ED8" stroke-width="0.5"/>
                    <text x="64.5" y="56.8" text-anchor="middle" fill="#FFFFFF" font-size="1.2" font-weight="bold">POPCORN</text>
                    <rect x="69" y="55" width="5" height="2.5" rx="0.5" fill="#F59E0B" stroke="#D97706" stroke-width="0.5"/>
                    <text x="71.5" y="56.8" text-anchor="middle" fill="#FFFFFF" font-size="1.2" font-weight="bold">REHEAT</text>
                    
                    <!-- Stop/Clear button -->
                    <rect x="62" y="59" width="12" height="3" rx="1" fill="#EF4444" stroke="#DC2626" stroke-width="0.5"/>
                    <text x="68" y="61.2" text-anchor="middle" fill="#FFFFFF" font-size="1.8" font-weight="bold">STOP/CLEAR</text>
                    
                    <!-- Power indicator LED -->
                    <circle cx="74" cy="25" r="1" fill="#10B981"/>
                    <circle cx="74" cy="25" r="0.5" fill="#34D399"/>
                    
                    <!-- Brand logo -->
                    <rect x="15" y="56" width="20" height="3" rx="1" fill="#64748B" opacity="0.8"/>
                    <text x="25" y="58.5" text-anchor="middle" fill="#FFFFFF" font-size="2.5" font-weight="bold">QUICKHEAT</text>
                    
                    <!-- Ventilation grilles -->
                    <rect x="10" y="12" width="66" height="2" rx="1" fill="#CBD5E1"/>
                    <g opacity="0.6">
                        <line x1="15" y1="13" x2="71" y2="13" stroke="#94A3B8" stroke-width="0.8"/>
                        <circle cx="20" cy="13" r="0.5" fill="#64748B"/>
                        <circle cx="30" cy="13" r="0.5" fill="#64748B"/>
                        <circle cx="40" cy="13" r="0.5" fill="#64748B"/>
                        <circle cx="50" cy="13" r="0.5" fill="#64748B"/>
                        <circle cx="60" cy="13" r="0.5" fill="#64748B"/>
                        <circle cx="70" cy="13" r="0.5" fill="#64748B"/>
                    </g>
                    
                    <!-- Door latch -->
                    <rect x="56" y="30" width="2" height="4" rx="1" fill="#64748B"/>
                    <circle cx="57" cy="32" r="0.5" fill="#94A3B8"/>
                    
                    <!-- Interior ceiling light -->
                    <rect x="25" y="26" width="18" height="1.5" rx="0.5" fill="#FBBF24" opacity="0.8"/>
                </svg>
                <div class="star hidden absolute -top-4 -right-4">
                    <svg width="30" height="30" viewBox="0 0 30 30">
                        <polygon points="15,0 18.5,10.5 30,10.5 20.5,17 24,28 15,21.5 6,28 9.5,17 0,10.5 11.5,10.5" fill="gold" stroke="#FFA000"/>
                    </svg>
                </div>
            </div>
            
            <!-- Stove -->
            <div class="drop-zone relative" data-item="stove">
                <svg width="85" height="85" viewBox="0 0 85 85">
                    <defs>
                        <linearGradient id="stoveGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#1F2937;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#111827;stop-opacity:1" />
                        </linearGradient>
                        <radialGradient id="burnerGradient" cx="50%" cy="50%" r="50%">
                            <stop offset="0%" style="stop-color:#374151;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#1F2937;stop-opacity:1" />
                        </radialGradient>
                        <radialGradient id="flameGradient" cx="50%" cy="50%" r="50%">
                            <stop offset="0%" style="stop-color:#FBBF24;stop-opacity:0.9" />
                            <stop offset="70%" style="stop-color:#F59E0B;stop-opacity:0.7" />
                            <stop offset="100%" style="stop-color:#DC2626;stop-opacity:0.5" />
                        </radialGradient>
                        <linearGradient id="stoveReflection" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:0.1" />
                            <stop offset="100%" style="stop-color:#FFFFFF;stop-opacity:0" />
                        </linearGradient>
                        <radialGradient id="knobGradient" cx="30%" cy="30%" r="70%">
                            <stop offset="0%" style="stop-color:#E5E7EB;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#9CA3AF;stop-opacity:1" />
                        </radialGradient>
                        <radialGradient id="burnerRingGradient" cx="50%" cy="50%" r="50%">
                            <stop offset="0%" style="stop-color:#4B5563;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#374151;stop-opacity:1" />
                        </radialGradient>
                    </defs>
                    <!-- Shadow -->
                    <ellipse cx="42" cy="80" rx="38" ry="4" fill="#000000" opacity="0.3"/>
                    
                    <!-- Main stove body -->
                    <rect x="8" y="15" width="70" height="60" rx="6" fill="url(#stoveGradient)" stroke="#374151" stroke-width="2"/>
                    <!-- Body reflection -->
                    <rect x="10" y="17" width="66" height="15" rx="4" fill="url(#stoveReflection)"/>
                    
                    <!-- Cooktop surface -->
                    <rect x="12" y="19" width="62" height="38" rx="4" fill="#1F2937" stroke="#4B5563" stroke-width="1.5"/>
                    <!-- Surface glass effect -->
                    <rect x="14" y="21" width="58" height="34" rx="3" fill="#111827"/>
                    
                    <!-- Burner 1 (top left) - WITH FLAME -->
                    <g>
                        <!-- Drip pan -->
                        <circle cx="25" cy="32" r="11" fill="#374151" stroke="#4B5563" stroke-width="1"/>
                        <circle cx="25" cy="32" r="9" fill="url(#burnerRingGradient)"/>
                        <!-- Burner grate -->
                        <circle cx="25" cy="32" r="8" fill="url(#burnerGradient)" stroke="#6B7280" stroke-width="1"/>
                        <circle cx="25" cy="32" r="6" fill="#374151"/>
                        <circle cx="25" cy="32" r="4" fill="#4B5563"/>
                        <circle cx="25" cy="32" r="2" fill="#6B7280"/>
                        <!-- Gas ring holes -->
                        <circle cx="22" cy="32" r="0.5" fill="#1F2937"/>
                        <circle cx="28" cy="32" r="0.5" fill="#1F2937"/>
                        <circle cx="25" cy="29" r="0.5" fill="#1F2937"/>
                        <circle cx="25" cy="35" r="0.5" fill="#1F2937"/>
                        <!-- Animated flame -->
                        <g opacity="0.9">
                            <ellipse cx="25" cy="32" rx="4" ry="3" fill="url(#flameGradient)"/>
                            <ellipse cx="24" cy="30" rx="2" ry="4" fill="#FBBF24" opacity="0.8"/>
                            <ellipse cx="26" cy="30" rx="2" ry="4" fill="#FBBF24" opacity="0.8"/>
                            <ellipse cx="25" cy="29" rx="1.5" ry="3" fill="#FEF3C7" opacity="0.9"/>
                        </g>
                    </g>
                    
                    <!-- Burner 2 (top right) - OFF -->
                    <g>
                        <!-- Drip pan -->
                        <circle cx="60" cy="32" r="11" fill="#374151" stroke="#4B5563" stroke-width="1"/>
                        <circle cx="60" cy="32" r="9" fill="url(#burnerRingGradient)"/>
                        <!-- Burner grate -->
                        <circle cx="60" cy="32" r="8" fill="url(#burnerGradient)" stroke="#6B7280" stroke-width="1"/>
                        <circle cx="60" cy="32" r="6" fill="#374151"/>
                        <circle cx="60" cy="32" r="4" fill="#4B5563"/>
                        <circle cx="60" cy="32" r="2" fill="#6B7280"/>
                        <!-- Gas ring holes -->
                        <circle cx="57" cy="32" r="0.5" fill="#1F2937"/>
                        <circle cx="63" cy="32" r="0.5" fill="#1F2937"/>
                        <circle cx="60" cy="29" r="0.5" fill="#1F2937"/>
                        <circle cx="60" cy="35" r="0.5" fill="#1F2937"/>
                    </g>
                    
                    <!-- Burner 3 (bottom left) - OFF -->
                    <g>
                        <!-- Drip pan -->
                        <circle cx="25" cy="47" r="11" fill="#374151" stroke="#4B5563" stroke-width="1"/>
                        <circle cx="25" cy="47" r="9" fill="url(#burnerRingGradient)"/>
                        <!-- Burner grate -->
                        <circle cx="25" cy="47" r="8" fill="url(#burnerGradient)" stroke="#6B7280" stroke-width="1"/>
                        <circle cx="25" cy="47" r="6" fill="#374151"/>
                        <circle cx="25" cy="47" r="4" fill="#4B5563"/>
                        <circle cx="25" cy="47" r="2" fill="#6B7280"/>
                        <!-- Gas ring holes -->
                        <circle cx="22" cy="47" r="0.5" fill="#1F2937"/>
                        <circle cx="28" cy="47" r="0.5" fill="#1F2937"/>
                        <circle cx="25" cy="44" r="0.5" fill="#1F2937"/>
                        <circle cx="25" cy="50" r="0.5" fill="#1F2937"/>
                    </g>
                    
                    <!-- Burner 4 (bottom right) - WITH FLAME -->
                    <g>
                        <!-- Drip pan -->
                        <circle cx="60" cy="47" r="11" fill="#374151" stroke="#4B5563" stroke-width="1"/>
                        <circle cx="60" cy="47" r="9" fill="url(#burnerRingGradient)"/>
                        <!-- Burner grate -->
                        <circle cx="60" cy="47" r="8" fill="url(#burnerGradient)" stroke="#6B7280" stroke-width="1"/>
                        <circle cx="60" cy="47" r="6" fill="#374151"/>
                        <circle cx="60" cy="47" r="4" fill="#4B5563"/>
                        <circle cx="60" cy="47" r="2" fill="#6B7280"/>
                        <!-- Gas ring holes -->
                        <circle cx="57" cy="47" r="0.5" fill="#1F2937"/>
                        <circle cx="63" cy="47" r="0.5" fill="#1F2937"/>
                        <circle cx="60" cy="44" r="0.5" fill="#1F2937"/>
                        <circle cx="60" cy="50" r="0.5" fill="#1F2937"/>
                        <!-- Animated flame -->
                        <g opacity="0.9">
                            <ellipse cx="60" cy="47" rx="4" ry="3" fill="url(#flameGradient)"/>
                            <ellipse cx="59" cy="45" rx="2" ry="4" fill="#FBBF24" opacity="0.8"/>
                            <ellipse cx="61" cy="45" rx="2" ry="4" fill="#FBBF24" opacity="0.8"/>
                            <ellipse cx="60" cy="44" rx="1.5" ry="3" fill="#FEF3C7" opacity="0.9"/>
                        </g>
                    </g>
                    
                    <!-- Control panel -->
                    <rect x="12" y="60" width="62" height="12" rx="2" fill="#374151" stroke="#4B5563" stroke-width="1"/>
                    
                    <!-- Control knobs with detailed design -->
                    <g>
                        <!-- Knob 1 -->
                        <circle cx="20" cy="66" r="5" fill="url(#knobGradient)" stroke="#6B7280" stroke-width="1"/>
                        <circle cx="20" cy="66" r="3.5" fill="#D1D5DB"/>
                        <circle cx="20" cy="66" r="2" fill="#9CA3AF"/>
                        <line x1="20" y1="63" x2="20" y2="66" stroke="#374151" stroke-width="2"/>
                        <circle cx="20" cy="66" r="0.8" fill="#374151"/>
                        
                        <!-- Knob 2 -->
                        <circle cx="35" cy="66" r="5" fill="url(#knobGradient)" stroke="#6B7280" stroke-width="1"/>
                        <circle cx="35" cy="66" r="3.5" fill="#D1D5DB"/>
                        <circle cx="35" cy="66" r="2" fill="#9CA3AF"/>
                        <line x1="35" y1="63" x2="35" y2="66" stroke="#374151" stroke-width="2"/>
                        <circle cx="35" cy="66" r="0.8" fill="#374151"/>
                        
                        <!-- Knob 3 -->
                        <circle cx="50" cy="66" r="5" fill="url(#knobGradient)" stroke="#6B7280" stroke-width="1"/>
                        <circle cx="50" cy="66" r="3.5" fill="#D1D5DB"/>
                        <circle cx="50" cy="66" r="2" fill="#9CA3AF"/>
                        <line x1="50" y1="63" x2="50" y2="66" stroke="#374151" stroke-width="2"/>
                        <circle cx="50" cy="66" r="0.8" fill="#374151"/>
                        
                        <!-- Knob 4 -->
                        <circle cx="65" cy="66" r="5" fill="url(#knobGradient)" stroke="#6B7280" stroke-width="1"/>
                        <circle cx="65" cy="66" r="3.5" fill="#D1D5DB"/>
                        <circle cx="65" cy="66" r="2" fill="#9CA3AF"/>
                        <line x1="65" y1="63" x2="65" y2="66" stroke="#374151" stroke-width="2"/>
                        <circle cx="65" cy="66" r="0.8" fill="#374151"/>
                    </g>
                    
                    <!-- Temperature markings around knobs -->
                    <g opacity="0.8">
                        <text x="20" y="75" text-anchor="middle" fill="#D1D5DB" font-size="2.5" font-weight="bold">OFF</text>
                        <text x="35" y="75" text-anchor="middle" fill="#D1D5DB" font-size="2.5" font-weight="bold">LOW</text>
                        <text x="50" y="75" text-anchor="middle" fill="#D1D5DB" font-size="2.5" font-weight="bold">MED</text>
                        <text x="65" y="75" text-anchor="middle" fill="#D1D5DB" font-size="2.5" font-weight="bold">HIGH</text>
                    </g>
                    
                    <!-- Heat level indicators -->
                    <g opacity="0.6">
                        <circle cx="16" cy="66" r="0.8" fill="#6B7280"/>
                        <circle cx="31" cy="66" r="0.8" fill="#F59E0B"/>
                        <circle cx="46" cy="66" r="0.8" fill="#6B7280"/>
                        <circle cx="69" cy="66" r="0.8" fill="#EF4444"/>
                    </g>
                    
                    <!-- Brand logo -->
                    <rect x="32" y="22" width="20" height="3" rx="1" fill="#6B7280" opacity="0.8"/>
                    <text x="42" y="24.5" text-anchor="middle" fill="#D1D5DB" font-size="2.5" font-weight="bold">FLAMECOOK</text>
                    
                    <!-- Power indicator lights -->
                    <circle cx="15" cy="25" r="1.2" fill="#10B981"/>
                    <circle cx="15" cy="25" r="0.6" fill="#34D399"/>
                    <circle cx="70" cy="25" r="1.2" fill="#EF4444"/>
                    <circle cx="70" cy="25" r="0.6" fill="#F87171"/>
                    
                    <!-- Surface reflection -->
                    <rect x="12" y="19" width="62" height="12" rx="4" fill="url(#stoveReflection)"/>
                    
                    <!-- Safety features -->
                    <rect x="40" y="54" width="6" height="2" rx="1" fill="#6B7280"/>
                    <text x="43" y="55.5" text-anchor="middle" fill="#D1D5DB" font-size="1.5">SAFETY</text>
                    
                    <!-- Ventilation -->
                    <rect x="10" y="12" width="66" height="2" rx="1" fill="#4B5563"/>
                    <g opacity="0.7">
                        <line x1="15" y1="13" x2="71" y2="13" stroke="#6B7280" stroke-width="0.8"/>
                        <circle cx="20" cy="13" r="0.5" fill="#6B7280"/>
                        <circle cx="30" cy="13" r="0.5" fill="#6B7280"/>
                        <circle cx="40" cy="13" r="0.5" fill="#6B7280"/>
                        <circle cx="50" cy="13" r="0.5" fill="#6B7280"/>
                        <circle cx="60" cy="13" r="0.5" fill="#6B7280"/>
                        <circle cx="70" cy="13" r="0.5" fill="#6B7280"/>
                    </g>
                </svg>
                <div class="star hidden absolute -top-4 -right-4">
                    <svg width="30" height="30" viewBox="0 0 30 30">
                        <polygon points="15,0 18.5,10.5 30,10.5 20.5,17 24,28 15,21.5 6,28 9.5,17 0,10.5 11.5,10.5" fill="gold" stroke="#FFA000"/>
                    </svg>
                </div>
            </div>
        </div>
        
        <!-- Kitchen draggable labels -->
        <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 w-3/4 flex justify-around">
            <div class="draggable bg-gray-100 py-2 px-4 rounded-lg shadow-md border-2 border-gray-300 text-gray-800 font-semibold" draggable="true" data-label="refrigerator">
                <span class="en">Refrigerator</span>
                <span class="es hidden">Refrigerador</span>
            </div>
            <div class="draggable bg-orange-100 py-2 px-4 rounded-lg shadow-md border-2 border-orange-300 text-orange-800 font-semibold" draggable="true" data-label="blender">
                <span class="en">Blender</span>
                <span class="es hidden">Licuadora</span>
            </div>
            <div class="draggable bg-yellow-100 py-2 px-4 rounded-lg shadow-md border-2 border-yellow-300 text-yellow-800 font-semibold" draggable="true" data-label="microwave">
                <span class="en">Microwave</span>
                <span class="es hidden">Microondas</span>
            </div>
            <div class="draggable bg-red-100 py-2 px-4 rounded-lg shadow-md border-2 border-red-300 text-red-800 font-semibold" draggable="true" data-label="stove">
                <span class="en">Stove</span>
                <span class="es hidden">Estufa</span>
            </div>
        </div>
        
        <!-- Kitchen Kiby character -->
        <div id="kiby" class="absolute bottom-20 right-8 kiby-bounce">
            <svg width="80" height="80" viewBox="0 0 100 100">
                <!-- Kiby body -->
                <circle cx="50" cy="50" r="40" fill="white" stroke="#F59E0B" stroke-width="2"/>
                <!-- Ears/Antenna -->
                <path d="M30 25 Q 25 5 40 15" stroke="#F59E0B" stroke-width="3" fill="none"/>
                <path d="M70 25 Q 75 5 60 15" stroke="#F59E0B" stroke-width="3" fill="none"/>
                <!-- Eyes -->
                <circle cx="35" cy="45" r="6" fill="#F59E0B"/>
                <circle cx="65" cy="45" r="6" fill="#F59E0B"/>
                <circle cx="37" cy="43" r="2" fill="white"/>
                <circle cx="67" cy="43" r="2" fill="white"/>
                <!-- Smile -->
                <path d="M35 65 Q 50 75 65 65" stroke="#F59E0B" stroke-width="3" fill="none" id="kiby-mouth"/>
                <!-- Orange accents -->
                <circle cx="50" cy="85" r="5" fill="#F59E0B"/>
                <circle cx="20" cy="60" r="5" fill="#F59E0B"/>
                <circle cx="80" cy="60" r="5" fill="#F59E0B"/>
            </svg>
        </div>
        
        <!-- Kitchen Kiby speech bubble -->
        <div id="kiby-speech" class="absolute bottom-32 right-24 bg-white p-4 rounded-lg shadow-lg hidden max-w-xs">
            <div class="absolute -bottom-2 right-8 w-4 h-4 bg-white transform rotate-45"></div>
            <p id="kiby-text" class="text-orange-800"></p>
        </div>
        
        <!-- Kitchen UI Controls -->
        <div class="absolute top-4 left-4 flex space-x-4">
            <!-- Reset kitchen button -->
            <button id="reset-button" class="bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-full shadow-md transition-all transform hover:scale-105 text-lg">
                üîÑ <span class="en">Reset</span>
                üîÑ <span class="es hidden">Reiniciar</span>
            </button>
            
            <!-- Kitchen Language toggle -->
            <button id="language-toggle" class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-full shadow-md transition-all transform hover:scale-105 text-lg">
                üåç <span class="en">Espa√±ol</span>
                üåç <span class="es hidden">English</span>
            </button>
            
            <!-- Kitchen Hint button -->
            <button id="hint-button" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 px-6 rounded-full shadow-md transition-all transform hover:scale-105 text-lg">
                üí° <span class="en">Hint</span>
                üí° <span class="es hidden">Pista</span>
            </button>
        </div>
        
        <!-- Kitchen Star counter -->
        <div class="absolute top-4 right-4 bg-yellow-100 py-2 px-4 rounded-full shadow-md border-2 border-yellow-300 flex items-center">
            <svg width="24" height="24" viewBox="0 0 24 24" class="mr-2">
                <polygon points="12,2 15,8 21,9 16.5,14 18,20 12,17 6,20 7.5,14 3,9 9,8" fill="gold" stroke="#FFA000"/>
            </svg>
            <span id="star-counter" class="font-bold text-yellow-800">0/4</span>
        </div>
    </div>
    
    <!-- Kitchen Completion Screen -->
    <div id="completion-screen" class="h-full flex flex-col items-center justify-center p-6 bg-gradient-to-b from-orange-100 to-yellow-100 hidden">
        <div class="text-center max-w-md">
            <div class="mb-6 pop-up">
                <svg width="150" height="150" viewBox="0 0 150 150" class="mx-auto">
                    <circle cx="75" cy="75" r="70" fill="#F59E0B" stroke="#D97706" stroke-width="5"/>
                    <polygon points="75,30 88,57 118,57 94,74 102,103 75,85 48,103 56,74 32,57 62,57" fill="gold" stroke="#FFA000" stroke-width="2"/>
                    <text x="75" y="130" text-anchor="middle" fill="white" font-size="14" font-weight="bold" class="en">Kitchen Master</text>
                    <text x="75" y="130" text-anchor="middle" fill="white" font-size="14" font-weight="bold" class="es hidden">Maestro de Cocina</text>
                </svg>
            </div>
            
            <h1 class="text-4xl font-bold text-orange-600 mb-4 pop-up">
                <span class="en">Kitchen Challenge Completed!</span>
                <span class="es hidden">¬°Desaf√≠o de Cocina Completado!</span>
            </h1>
            
            <p class="text-xl text-gray-700 mb-8 fade-in">
                <span class="en">Fantastic! You've mastered kitchen technology! You are now a certified Kitchen Master!</span>
                <span class="es hidden">¬°Fant√°stico! ¬°Has dominado la tecnolog√≠a de cocina! ¬°Ahora eres un Maestro de Cocina certificado!</span>
            </p>
            
            <!-- Kitchen Kiby on completion screen -->
            <div class="mt-6 kiby-bounce">
                <svg width="120" height="120" viewBox="0 0 100 100" class="mx-auto">
                    <!-- Kiby body -->
                    <circle cx="50" cy="50" r="40" fill="white" stroke="#F59E0B" stroke-width="2"/>
                    <!-- Ears/Antenna -->
                    <path d="M30 25 Q 25 5 40 15" stroke="#F59E0B" stroke-width="3" fill="none"/>
                    <path d="M70 25 Q 75 5 60 15" stroke="#F59E0B" stroke-width="3" fill="none"/>
                    <!-- Happy Eyes -->
                    <path d="M30 45 Q 35 40 40 45" stroke="#F59E0B" stroke-width="3" fill="none"/>
                    <path d="M60 45 Q 65 40 70 45" stroke="#F59E0B" stroke-width="3" fill="none"/>
                    <!-- Big Smile -->
                    <path d="M30 60 Q 50 80 70 60" stroke="#F59E0B" stroke-width="3" fill="none"/>
                    <!-- Orange accents -->
                    <circle cx="50" cy="85" r="5" fill="#F59E0B"/>
                    <circle cx="20" cy="60" r="5" fill="#F59E0B"/>
                    <circle cx="80" cy="60" r="5" fill="#F59E0B"/>
                </svg>
            </div>
            
            <div class="mt-8 flex space-x-4">
                <button id="play-again-button" class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-8 rounded-full text-xl shadow-lg transition-all transform hover:scale-105">
                    <span class="en">üîÑ Play Again</span>
                    <span class="es hidden">üîÑ Jugar de Nuevo</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        // Game state
        let currentLanguage = 'en';
        let starsCollected = 0;
        let totalStars = 4;
        let draggedElement = null;
        let gameCompleted = false;

        // Language texts
        const texts = {
            en: {
                welcomeInstructions: "Match the names to the kitchen appliances!",
                languageLabel: "Change Language:",
                kibyMessages: {
                    welcome: "Hi! I'm Kiby! Let's learn about kitchen technology together!",
                    correct: ["Great job!", "Excellent!", "Perfect match!", "You're doing amazing!"],
                    wrong: ["Not quite right, try again!", "Oops! Try a different one!", "Close, but not quite!", "Keep trying!"],
                    hint: "Look carefully at each appliance and think about what it does!",
                    almostDone: "You're almost done! Just a few more to go!",
                    completed: "Congratulations! You've mastered all the kitchen appliances!"
                }
            },
            es: {
                welcomeInstructions: "¬°Empareja los nombres con los electrodom√©sticos de cocina!",
                languageLabel: "Cambiar Idioma:",
                kibyMessages: {
                    welcome: "¬°Hola! ¬°Soy Kiby! ¬°Aprendamos sobre tecnolog√≠a de cocina juntos!",
                    correct: ["¬°Muy bien!", "¬°Excelente!", "¬°Perfecto!", "¬°Lo est√°s haciendo genial!"],
                    wrong: ["No es correcto, ¬°int√©ntalo de nuevo!", "¬°Ups! ¬°Prueba con otro!", "Cerca, pero no del todo!", "¬°Sigue intentando!"],
                    hint: "¬°Mira cuidadosamente cada electrodom√©stico y piensa en lo que hace!",
                    almostDone: "¬°Ya casi terminas! ¬°Solo faltan algunos m√°s!",
                    completed: "¬°Felicitaciones! ¬°Has dominado todos los electrodom√©sticos de cocina!"
                }
            }
        };

        // DOM elements
        const welcomeScreen = document.getElementById('welcome-screen');
        const gameScreen = document.getElementById('game-screen');
        const completionScreen = document.getElementById('completion-screen');
        const playButton = document.getElementById('play-button');
        const englishButton = document.getElementById('english-button');
        const spanishButton = document.getElementById('spanish-button');
        const resetButton = document.getElementById('reset-button');
        const languageToggle = document.getElementById('language-toggle');
        const hintButton = document.getElementById('hint-button');
        const playAgainButton = document.getElementById('play-again-button');
        const starCounter = document.getElementById('star-counter');
        const kiby = document.getElementById('kiby');
        const kibySpeech = document.getElementById('kiby-speech');
        const kibyText = document.getElementById('kiby-text');

        // Initialize game
        function initGame() {
            updateLanguage();
            showKibyMessage(texts[currentLanguage].kibyMessages.welcome);
            
            // Event listeners
            playButton.addEventListener('click', startGame);
            englishButton.addEventListener('click', () => setLanguage('en'));
            spanishButton.addEventListener('click', () => setLanguage('es'));
            resetButton.addEventListener('click', resetGame);
            languageToggle.addEventListener('click', toggleLanguage);
            hintButton.addEventListener('click', showHint);
            playAgainButton.addEventListener('click', resetGame);

            // Setup drag and drop
            setupDragAndDrop();
        }

        function setLanguage(lang) {
            currentLanguage = lang;
            updateLanguage();
        }

        function toggleLanguage() {
            currentLanguage = currentLanguage === 'en' ? 'es' : 'en';
            updateLanguage();
        }

        function updateLanguage() {
            // Update text content
            document.getElementById('welcome-instructions').textContent = texts[currentLanguage].welcomeInstructions;
            document.getElementById('language-label').textContent = texts[currentLanguage].languageLabel;
            
            // Show/hide language-specific elements
            document.querySelectorAll('.en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
        }

        function startGame() {
            welcomeScreen.classList.add('hidden');
            gameScreen.classList.remove('hidden');
            showKibyMessage(texts[currentLanguage].kibyMessages.welcome);
        }

        function resetGame() {
            // Reset game state
            starsCollected = 0;
            gameCompleted = false;
            updateStarCounter();
            
            // Reset UI
            completionScreen.classList.add('hidden');
            gameScreen.classList.add('hidden');
            welcomeScreen.classList.remove('hidden');
            
            // Reset draggables and drop zones
            document.querySelectorAll('.draggable').forEach(draggable => {
                draggable.style.display = 'block';
                draggable.classList.remove('wiggle', 'shake');
            });
            
            document.querySelectorAll('.star').forEach(star => {
                star.classList.add('hidden');
                star.classList.remove('collected');
            });
            
            document.querySelectorAll('.drop-zone').forEach(zone => {
                zone.classList.remove('highlight', 'correct-hint', 'wrong-hint');
            });
            
            hideKibySpeech();
            showKibyMessage(texts[currentLanguage].kibyMessages.welcome);
        }

        function setupDragAndDrop() {
            const draggables = document.querySelectorAll('.draggable');
            const dropZones = document.querySelectorAll('.drop-zone');

            draggables.forEach(draggable => {
                draggable.addEventListener('dragstart', handleDragStart);
                draggable.addEventListener('dragend', handleDragEnd);
                
                // Touch events for mobile
                draggable.addEventListener('touchstart', handleTouchStart, { passive: false });
                draggable.addEventListener('touchmove', handleTouchMove, { passive: false });
                draggable.addEventListener('touchend', handleTouchEnd, { passive: false });
            });

            dropZones.forEach(zone => {
                zone.addEventListener('dragover', handleDragOver);
                zone.addEventListener('drop', handleDrop);
                zone.addEventListener('dragenter', handleDragEnter);
                zone.addEventListener('dragleave', handleDragLeave);
            });
        }

        function handleDragStart(e) {
            draggedElement = this;
            this.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/html', this.outerHTML);
        }

        function handleDragEnd(e) {
            this.classList.remove('dragging');
            document.querySelectorAll('.drop-zone').forEach(zone => {
                zone.classList.remove('highlight');
            });
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'move';
        }

        function handleDragEnter(e) {
            e.preventDefault();
            this.classList.add('highlight');
        }

        function handleDragLeave(e) {
            this.classList.remove('highlight');
        }

        function handleDrop(e) {
            e.preventDefault();
            this.classList.remove('highlight');
            
            if (draggedElement) {
                const draggedLabel = draggedElement.dataset.label;
                const dropZoneItem = this.dataset.item;
                
                if (draggedLabel === dropZoneItem) {
                    handleCorrectMatch(this, draggedElement);
                } else {
                    handleWrongMatch(this, draggedElement);
                }
            }
        }

        // Touch event handlers for mobile
        let touchStartX, touchStartY;
        let touchElement = null;

        function handleTouchStart(e) {
            touchElement = this;
            const touch = e.touches[0];
            touchStartX = touch.clientX;
            touchStartY = touch.clientY;
            this.classList.add('dragging');
        }

        function handleTouchMove(e) {
            e.preventDefault();
            if (!touchElement) return;
            
            const touch = e.touches[0];
            const elementBelow = document.elementFromPoint(touch.clientX, touch.clientY);
            const dropZone = elementBelow?.closest('.drop-zone');
            
            // Remove highlight from all zones
            document.querySelectorAll('.drop-zone').forEach(zone => {
                zone.classList.remove('highlight');
            });
            
            // Add highlight to current zone
            if (dropZone) {
                dropZone.classList.add('highlight');
            }
        }

        function handleTouchEnd(e) {
            if (!touchElement) return;
            
            const touch = e.changedTouches[0];
            const elementBelow = document.elementFromPoint(touch.clientX, touch.clientY);
            const dropZone = elementBelow?.closest('.drop-zone');
            
            touchElement.classList.remove('dragging');
            
            // Remove highlight from all zones
            document.querySelectorAll('.drop-zone').forEach(zone => {
                zone.classList.remove('highlight');
            });
            
            if (dropZone) {
                const draggedLabel = touchElement.dataset.label;
                const dropZoneItem = dropZone.dataset.item;
                
                if (draggedLabel === dropZoneItem) {
                    handleCorrectMatch(dropZone, touchElement);
                } else {
                    handleWrongMatch(dropZone, touchElement);
                }
            }
            
            touchElement = null;
        }

        function handleCorrectMatch(dropZone, draggedElement) {
            // Hide the dragged element
            draggedElement.style.display = 'none';
            
            // Show and animate the star
            const star = dropZone.querySelector('.star');
            star.classList.remove('hidden');
            star.classList.add('collected');
            
            // Add wiggle animation to Kiby
            kiby.classList.add('kiby-happy');
            setTimeout(() => kiby.classList.remove('kiby-happy'), 1000);
            
            // Update stars
            starsCollected++;
            updateStarCounter();
            
            // Show success message
            const correctMessages = texts[currentLanguage].kibyMessages.correct;
            const randomMessage = correctMessages[Math.floor(Math.random() * correctMessages.length)];
            showKibyMessage(randomMessage);
            
            // Check if game is completed
            if (starsCollected === totalStars) {
                setTimeout(() => {
                    gameCompleted = true;
                    showKibyMessage(texts[currentLanguage].kibyMessages.completed);
                    setTimeout(showCompletionScreen, 2000);
                }, 1000);
            } else if (starsCollected === totalStars - 1) {
                setTimeout(() => {
                    showKibyMessage(texts[currentLanguage].kibyMessages.almostDone);
                }, 1500);
            }
        }

        function handleWrongMatch(dropZone, draggedElement) {
            // Add shake animation to the dragged element
            draggedElement.classList.add('shake');
            setTimeout(() => draggedElement.classList.remove('shake'), 500);
            
            // Show wrong message
            const wrongMessages = texts[currentLanguage].kibyMessages.wrong;
            const randomMessage = wrongMessages[Math.floor(Math.random() * wrongMessages.length)];
            showKibyMessage(randomMessage);
        }

        function showHint() {
            // Highlight correct matches briefly
            const draggables = document.querySelectorAll('.draggable:not([style*="display: none"])');
            const dropZones = document.querySelectorAll('.drop-zone');
            
            draggables.forEach(draggable => {
                const label = draggable.dataset.label;
                const matchingZone = Array.from(dropZones).find(zone => zone.dataset.item === label);
                
                if (matchingZone) {
                    matchingZone.classList.add('correct-hint');
                    draggable.classList.add('wiggle');
                    
                    setTimeout(() => {
                        matchingZone.classList.remove('correct-hint');
                        draggable.classList.remove('wiggle');
                    }, 2000);
                }
            });
            
            showKibyMessage(texts[currentLanguage].kibyMessages.hint);
        }

        function updateStarCounter() {
            starCounter.textContent = `${starsCollected}/${totalStars}`;
        }

        function showKibyMessage(message) {
            kibyText.textContent = message;
            kibySpeech.classList.remove('hidden');
            
            // Auto-hide after 4 seconds
            setTimeout(hideKibySpeech, 4000);
        }

        function hideKibySpeech() {
            kibySpeech.classList.add('hidden');
        }

        function showCompletionScreen() {
            gameScreen.classList.add('hidden');
            completionScreen.classList.remove('hidden');
            
            // Add excited animation to Kiby
            const completionKiby = completionScreen.querySelector('.kiby-bounce');
            completionKiby.classList.add('kiby-excited');
        }

        // Initialize the game when the page loads
        document.addEventListener('DOMContentLoaded', initGame);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98f9b0af134ae786',t:'MTc2MDY0MDA4NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
